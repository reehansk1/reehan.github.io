<!DOCTYPE html>
<html>
<head>
    <title>E-Waste Collection Locator</title>
    <!-- Include the Bing Maps JavaScript API -->
    <script type='text/javascript' src='https://www.bing.com/api/maps/mapcontrol?key=AhhJP508d1oIc3u7miSzBXtA5nDTnjQPdanJThl210aoIP_retrqq9CSGJHX-mbu'></script>

    <!-- CSS for the modal dialog -->
    <style>
        /* The modal */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7); /* Black background with opacity */
        }

        /* Modal content */
        .modal-content {
            background-color: #fefefe;
            margin: 15% auto; /* 15% from the top and centered */
            padding: 20px;
            border: 1px solid #888;
            width: 80%; /* Could be more or less, depending on screen size */
        }

        /* Close button */
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <!-- Modal pop-up -->
    <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2>Welcome to E-Waste Collection Locator</h2>
            <img src="your-image-url.jpg" alt="E-Waste" style="max-width: 100%;">
            <p>This website helps you find E-Waste Collection Facilities. Click the button below to find your location.</p>
            <button onclick="getUserLocation()">Find My Location</button>
        </div>
    </div>

    <h1>Find E-Waste Collection Facilities</h1>

    <!-- Create a button to trigger location detection -->
    <button onclick="getUserLocation()">Find My Location</button>

    <!-- Create a map container -->
    <div id="map" style="height: 400px; width: 100%;"></div>

    <!-- JavaScript to handle location and map -->
    <script>
        var map;

        function loadMapScenario() {
            map = new Microsoft.Maps.Map(document.getElementById('map'), {
                credentials: 'AhhJP508d1oIc3u7miSzBXtA5nDTnjQPdanJThl210aoIP_retrqq9CSGJHX-mbu',
                center: new Microsoft.Maps.Location(0, 0), // Default to center of the world
                zoom: 8
            });

            // Display the modal dialog when the page loads
            showModal();
        }

        // Function to display the modal dialog
        function showModal() {
            var modal = document.getElementById('myModal');
            modal.style.display = 'block';
        }

        // Function to close the modal dialog
        function closeModal() {
            var modal = document.getElementById('myModal');
            modal.style.display = 'none';
        }

        // Function to get user's location
        function getUserLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(showPosition);
            } else {
                alert("Geolocation is not supported by this browser.");
            }
        }

        // Function to display user's location on the map
        function showPosition(position) {
            var userLocation = new Microsoft.Maps.Location(position.coords.latitude, position.coords.longitude);

            map.setView({ center: userLocation }); // Center the map on the user's location

            // You can use this userLocation to query e-waste collection facilities near the user using a relevant API.
            // For example, make an API request to a database of e-waste collection facilities based on userLocation.
            // Display the results as pushpins on the map.
        }
    </script>

    <!-- Initialize the map when the page loads -->
    <script type='text/javascript' src='https://www.bing.com/api/maps/mapcontrol?callback=loadMapScenario' async defer></script>
</body>
</html>
